[gd_scene load_steps=12 format=3 uid="uid://mdes4hst2fpb"]

[ext_resource type="Script" uid="uid://ylp6vydxbh2w" path="res://entities/info/player.gd" id="1_merdl"]
[ext_resource type="PackedScene" uid="uid://d16mvtftr8jl7" path="res://components/health_component.tscn" id="2_quc4t"]
[ext_resource type="PackedScene" uid="uid://crqe2dumssey" path="res://assets/raw/viewmodel.blend" id="3_2hcst"]
[ext_resource type="Texture2D" uid="uid://ctatlt4v5fyf8" path="res://assets/crosshair.png" id="3_otayu"]
[ext_resource type="PackedScene" uid="uid://lm36snfl5obu" path="res://components/hitbox_component.tscn" id="3_ug0ox"]
[ext_resource type="PackedScene" uid="uid://ddemxbua6ylaj" path="res://components/audio_manager_component.tscn" id="4_ug0ox"]
[ext_resource type="PackedScene" uid="uid://ccvm8eicw8t4d" path="res://components/common_physics_component.tscn" id="5_quc4t"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_merdl"]
height = 2.1

[sub_resource type="LabelSettings" id="LabelSettings_otayu"]
line_spacing = 0.0
font_size = 64
outline_size = 16
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_ug0ox"]
font_size = 32
outline_size = 8
outline_color = Color(0, 0, 0, 1)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_tdjdb"]
height = 2.1

[node name="Player" type="CharacterBody3D"]
collision_layer = 4
collision_mask = 11
floor_constant_speed = true
script = ExtResource("1_merdl")
speed = 1.5
metadata/_custom_type_script = "uid://88pbfyfqnxlk"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.05, 0)
shape = SubResource("CylinderShape3D_merdl")

[node name="Camera3D" type="Camera3D" parent="."]
process_mode = 3
process_priority = 4
process_physics_priority = 4
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.75, 0)
current = true
fov = 90.0

[node name="Viewmodel" parent="Camera3D" instance=ExtResource("3_2hcst")]
process_mode = 3
process_priority = 3
process_physics_priority = 3
physics_interpolation_mode = 1
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, -0.55, -0.651)

[node name="Skeleton3D" parent="Camera3D/Viewmodel" index="0"]
bones/1/position = Vector3(1, 0, 0)
bones/2/rotation = Quaternion(0.797958, -0.59747, 0.0317379, 0.0726976)
bones/3/rotation = Quaternion(-0.305497, 0.026288, -0.0778805, 0.948639)
bones/4/rotation = Quaternion(-0.185564, 0.0264891, -0.0429953, 0.981334)
bones/5/rotation = Quaternion(-0.0508326, 0.00147912, -0.0134548, 0.998616)
bones/6/position = Vector3(0.15953, 0.447877, -0.0210104)
bones/6/rotation = Quaternion(-0.0234625, -0.000864487, 0.00101648, 0.999724)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(-0.131675, -0.00118174, 0.0090443, 0.991251)
bones/8/position = Vector3(-0.00950443, 0.491846, -0.0293064)
bones/8/rotation = Quaternion(-0.0234625, -0.000864509, 0.00101636, 0.999724)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(-0.129443, 0.00138574, -0.0101911, 0.991533)
bones/10/position = Vector3(-0.158652, 0.499173, -0.0306891)
bones/10/rotation = Quaternion(-0.0234625, -0.000864652, 0.0010163, 0.999724)
bones/11/rotation = Quaternion(-0.128901, -0.000481709, 0.00391386, 0.99165)
bones/12/rotation = Quaternion(0.0542201, -0.011618, 0.192166, 0.979795)
bones/13/rotation = Quaternion(-0.140167, 0.014, -0.173843, 0.974647)
bones/14/rotation = Quaternion(-0.0140731, -0.000286114, -0.0255602, 0.999574)
bones/15/position = Vector3(-1, 0, 0)
bones/16/rotation = Quaternion(0.781082, 0.611467, 0.0592893, 0.111823)
bones/17/rotation = Quaternion(-0.426942, -0.0218659, 0.0753491, 0.900869)
bones/18/rotation = Quaternion(0.240788, -0.0599389, -0.131618, 0.959742)
bones/19/rotation = Quaternion(0.404509, -0.0312883, -0.186015, 0.89487)
bones/20/position = Vector3(-0.15953, 0.447876, -0.0210105)
bones/20/rotation = Quaternion(-0.0234625, 0.000864533, -0.0010165, 0.999724)
bones/21/rotation = Quaternion(-0.131675, 0.00118171, -0.0090443, 0.991251)
bones/22/position = Vector3(0.00950426, 0.491845, -0.0293066)
bones/22/rotation = Quaternion(-0.0234625, 0.000864525, -0.00101638, 0.999724)
bones/23/rotation = Quaternion(-0.129443, -0.00138573, 0.0101911, 0.991533)
bones/24/position = Vector3(0.158652, 0.499173, -0.0306892)
bones/24/rotation = Quaternion(-0.0234625, 0.000864647, -0.0010163, 0.999724)
bones/25/rotation = Quaternion(-0.128901, 0.000481718, -0.00391386, 0.99165)
bones/26/rotation = Quaternion(0.0542201, 0.011618, -0.192166, 0.979795)
bones/27/rotation = Quaternion(-0.140167, -0.014, 0.173843, 0.974647)
bones/28/rotation = Quaternion(-0.0140731, 0.000286122, 0.0255602, 0.999574)

[node name="HUD" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="Crosshair" type="TextureRect" parent="HUD/Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -2.5
offset_top = -2.5
offset_right = 2.5
offset_bottom = 2.5
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(4, 4)
pivot_offset = Vector2(2.5, 2.5)
texture = ExtResource("3_otayu")

[node name="HealthText" type="Label" parent="HUD/Control"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -256.0
offset_top = -184.0
offset_right = -128.0
offset_bottom = -96.0
grow_horizontal = 2
grow_vertical = 2
text = "100"
label_settings = SubResource("LabelSettings_otayu")
horizontal_alignment = 1
vertical_alignment = 2

[node name="BlockText" type="Label" parent="HUD/Control"]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -96.0
offset_top = 28.0
offset_right = 96.0
offset_bottom = 76.0
grow_horizontal = 2
grow_vertical = 0
label_settings = SubResource("LabelSettings_ug0ox")
horizontal_alignment = 1

[node name="PunchText" type="Label" parent="HUD/Control"]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -96.0
offset_top = 84.0
offset_right = 96.0
offset_bottom = 132.0
grow_horizontal = 2
grow_vertical = 0
label_settings = SubResource("LabelSettings_ug0ox")
horizontal_alignment = 1

[node name="CommonPhysicsComponent" parent="." instance=ExtResource("5_quc4t")]

[node name="AudioManagerComponent" parent="." instance=ExtResource("4_ug0ox")]

[node name="HealthComponent" parent="." instance=ExtResource("2_quc4t")]
iframes_amount = 15

[node name="HitboxComponent" parent="." instance=ExtResource("3_ug0ox")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitboxComponent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.05, 0)
shape = SubResource("CylinderShape3D_tdjdb")

[editable path="Camera3D/Viewmodel"]
